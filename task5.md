## üè† –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –∫—É—Ä—Å–∞ "–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –Ω–∞ GO"

### –ó–∞–¥–∞–Ω–∏–µ 5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä–æ–≤ –∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤

–ù–∞—à —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —É–º–Ω–µ—Ç—å ‚Äî —Ç–µ–ø–µ—Ä—å –º—ã –Ω–∞—É—á–∏–º—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã** –∏ **—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –∫—É—Ä—å–µ—Ä–æ–≤**, —á—Ç–æ–±—ã –Ω–∏ –æ–¥–∏–Ω –Ω–µ –±—ã–ª –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω.

> –ì–ª–∞–≤–Ω–æ–µ ‚Äî –≤—Å—ë —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å —É—á—ë—Ç–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏.

üìå **–ß—Ç–æ –≤–∞–∂–Ω–æ —É—á–µ—Å—Ç—å:**

- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `goroutine` + `time.Ticker` –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–∫–∞–∑–æ–≤;
- –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `context` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏;
- –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Ç–µ—á–µ–∫ (goroutine leak);
- –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫—É—Ä—å–µ—Ä–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ usecase-—Å–ª–æ–π.

---

### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É (goroutine), –∫–æ—Ç–æ—Ä–∞—è:**
   - –ö–∞–∂–¥—ã–µ **10 —Å–µ–∫—É–Ω–¥** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–∫–∞–∑—ã –≤ —Ç–∞–±–ª–∏—Ü–µ `courier_orders`;
   - –ï—Å–ª–∏ –∑–∞–∫–∞–∑ –¥–æ–ª–∂–µ–Ω –±—ã–ª —É–∂–µ –±—ã—Ç—å –¥–æ—Å—Ç–∞–≤–ª–µ–Ω (`delivery_deadline < now()`), –∏ –∫—É—Ä—å–µ—Ä –¥–æ —Å–∏—Ö –ø–æ—Ä –≤ —Å—Ç–∞—Ç—É—Å–µ `busy`:
      - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫—É—Ä—å–µ—Ä–∞ –Ω–∞ `available`;
      - –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∫—Ç –ø—Ä–æ—Å—Ä–æ—á–∫–∏ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è.

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `context.Context` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ä—É—Ç–∏–Ω–æ–π**
   - –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞.
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ (—á–µ—Ä–µ–∑ `ctx.Done()`).
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `defer ticker.Stop()`.

3. **–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫—É—Ä—å–µ—Ä–æ–≤:**
   - –ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –≤—ã–±—Ä–∞—Ç—å **–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫—É—Ä—å–µ—Ä–∞** (`status = available`);
   - –ò–∑ –Ω–∏—Ö –≤—ã–±—Ä–∞—Ç—å –∫—É—Ä—å–µ—Ä–∞, —É –∫–æ—Ç–æ—Ä–æ–≥–æ **–º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤**;
   - –ù–∞–∑–Ω–∞—á–∏—Ç—å –∑–∞–∫–∞–∑ –∏–º–µ–Ω–Ω–æ –µ–º—É.

4. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –≥–æ—Ä—É—Ç–∏–Ω –∏ —É—Ç–µ—á–µ–∫ –≥–æ—Ä—É—Ç–∏–Ω

