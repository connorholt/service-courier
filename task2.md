## üè† –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –∫—É—Ä—Å–∞ "–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –Ω–∞ GO"

### 2 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ crud API

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ —É–º–µ–µ—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî **–ø–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä—å–µ—Ä–∞–º–∏.

#### üéØ –¶–µ–ª—å

–ü–æ–¥–∫–ª—é—á–∏—Ç—å PostgreSQL –∫ —Å–µ—Ä–≤–∏—Å—É `service-courier`, –æ–ø–∏—Å–∞—Ç—å —Å—Ö–µ–º—É —Ç–∞–±–ª–∏—Ü –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CRUD-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å—É—â–Ω–æ—Å—Ç—å—é **–∫—É—Ä—å–µ—Ä**.

#### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

#### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL.
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `.env` —Ñ–∞–π–ª (host, port, dbname, user, password).
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É [`jackc/pgx`](https://github.com/jackc/pgx) –∏–ª–∏ `pgxpool` –¥–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

#### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

–°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ö—É—Ä—å–µ—Ä—ã ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –∏ —Ç–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –≤–∫–ª—é—á–∞—Ç—å:

```sql
CREATE TABLE couriers (
    id          SERIAL PRIMARY KEY,
    name        TEXT NOT NULL,
    phone       TEXT NOT NULL UNIQUE,
    status      TEXT NOT NULL, -- –Ω–∞–ø—Ä–∏–º–µ—Ä: 'available', 'busy', 'paused'
    created_at  TIMESTAMP DEFAULT now(),
    updated_at  TIMESTAMP DEFAULT now()
);
```
‚ö†Ô∏è –î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ https://github.com/pressly/goose

#### 3. CRUD API 
3.1 `GET /courier/{id}` –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∫—É—Ä—å–µ—Ä–µ.

**–û—Ç–≤–µ—Ç—ã:**
- `200 OK` ‚Äî –∫—É—Ä—å–µ—Ä –Ω–∞–π–¥–µ–Ω
- `404 Not Found` ‚Äî –µ—Å–ª–∏ –∫—É—Ä—å–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω
- `400 Bad Request` ‚Äî –µ—Å–ª–∏ id –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π (–Ω–µ —á–∏—Å–ª–æ –∏ —Ç.–ø.)
```json
{
  "id": 1,
  "name": "–ê–Ω—Ç–æ–Ω",
  "phone": "+37444111222",
  "status": "available"
}
```

3.2 `GET /couriers` –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—É—Ä—å–µ—Ä–æ–≤.

**–û—Ç–≤–µ—Ç:**
- `200 OK`
```json
[
  {
    "id": 1,
    "name": "–ê–Ω—Ç–æ–Ω",
    "phone": "+37444111222",
    "status": "available"
  },
]
```

3.3 `POST /courier` –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫—É—Ä—å–µ—Ä–∞.
**–û—Ç–≤–µ—Ç—ã:**
- `201 Created` ‚Äî –∫—É—Ä—å–µ—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
- `400 Bad Request` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π
- `409 Conflict` ‚Äî –∫—É—Ä—å–µ—Ä —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ê–Ω—Ç–æ–Ω",
  "phone": "+37444111222",
  "status": "available"
}
```

3.4 `PUT /courier` –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫—É—Ä—å–µ—Ä–µ.
**–û—Ç–≤–µ—Ç—ã:**
- `200 OK` ‚Äî —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
- `404 Not Found` ‚Äî –∫—É—Ä—å–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω
- `400 Bad Request` ‚Äî –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "id": 1,
  "name": "–ê–Ω—Ç–æ–Ω –ò–≤–∞–Ω–æ–≤",
  "phone": "+37444111222",
  "status": "paused"
}
```

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQL-–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã `$1`, `$2`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å SQL-–∏–Ω—ä–µ–∫—Ü–∏–π.